var Tween={Quad:{easeInOut:function(e,t,i,a){if((e/=a/2)<1)return i/2*e*e+t;return-i/2*(--e*(e-2)-1)+t}}};Math.animation=function(e,t,i,a,n){var r=function(e){return typeof e=="undefined"};var o=function(e){return typeof e=="function"};var s=function(e){return typeof e=="number"};var l=function(e){return typeof e=="string"};var h=function(e){if(s(e)){return e}else if(l(e)){if(/\d+m?s$/.test(e)){if(/ms/.test(e)){return 1*e.replace("ms","")}return 1e3*e.replace("s","")}else if(/^\d+$/.test(e)){return+e}}return-1};if(!s(e)||!s(t)){if(window.console){console.error("from和to两个参数必须且为数值")}return 0}var c=Math.tween||window.Tween;if(!c){if(window.console){console.error("缓动算法函数缺失")}return 0}var u={duration:300,easing:"Linear",callback:function(){}};var f=function(e){if(o(e)){u.callback=e}else if(h(e)!=-1){u.duration=h(e)}else if(l(e)){u.easing=e}};f(i);f(a);f(n);if(!window.requestAnimationFrame){requestAnimationFrame=function(e){setTimeout(e,17)}}var d=0;var m=Math.ceil(u.duration/17);u.easing=u.easing.slice(0,1).toUpperCase()+u.easing.slice(1);var v=u.easing.split(".");var g;if(v.length==1){g=c[v[0]]}else if(v.length==2){g=c[v[0]]&&c[v[0]][v[1]]}if(o(g)==false){console.error('没有找到名为"'+u.easing+'"的动画算法');return}var p=function(){var i=g(d,e,t-e,m);d++;if(d<=m){u.callback(i);requestAnimationFrame(p)}else{u.callback(t,true)}};p()};(function(){if(!window.addEventListener){document.body.insertAdjacentHTML("afterbegin",'<div class="no-support">当前浏览器版本过低，本页面未对其进行支持</div>');return}var e=navigator.userAgent;if(/Safari|iphone/i.test(e)&&/chrome/i.test(e)==false){document.querySelector(".main").classList.add("safari")}var t=document.querySelector("#starCanvas");var i=t.getContext("2d");var a={},n=0,r={r:1400,height:260,density:300,maxLife:100,groundLevel:t.height,leftWall:0,rightWall:t.width,alpha:0,maxAlpha:1};var o=function(){var e=Math.random();var t=Math.ceil(1/(1-e));var i=[];for(var a=0;a<t;a++){i.push(Math.random())}return Math.min.apply(null,i)};function s(){t.width=window.innerWidth;t.height=window.innerHeight;r.rightWall=t.width;r.groundLevel=t.height;for(var e in a){a[e].y=o()*t.height}l();if(t.width<=480){document.body.className="mobile"}else{document.body.className="pc"}}s();window.addEventListener("resize",s);function l(){i.clearRect(0,0,t.width,t.height)}function h(){var e=t.width/2,i=t.height;this.x=Math.floor(Math.random()*t.width);this.y=o()*t.height;this.vx=Math.random()*.1+.05;this.particleSize=.5+(Math.random()+.1/4);n++;a[n]=this;this.alpha=0;this.maxAlpha=.2+this.y/t.height*Math.random()*.8;this.alphaAction=1}h.prototype.draw=function(){this.x+=this.vx;if(this.alphaAction==1){if(this.alpha<this.maxAlpha){this.alpha+=.005}else{this.alphaAction=-1}}else{if(this.alpha>.2){this.alpha-=.002}else{this.alphaAction=1}}if(this.x+this.particleSize*2>=r.rightWall){this.x=this.x-r.rightWall}i.beginPath();i.fillStyle="rgba(255,255,255,"+this.alpha.toString()+")";i.arc(this.x,this.y,this.particleSize,0,Math.PI*2,true);i.closePath();i.fill()};function c(){l();var e=400;if(!history.pushState){e=200}else if(document.msHidden!=undefined){e=300}if(screen.width<1024){e=200}if(screen.width<640){e=100}if(Object.keys(a).length>e){r.density=0}for(var t=0;t<r.density;t++){if(Math.random()>.97){new h}}for(var t in a){a[t].draw()}requestAnimationFrame(c)}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(e){setTimeout(e,17)}}c();var u=document.querySelector("#feMap");var f=document.querySelector("#svgFeImage");var d=document.createElement("canvas");var m=d.getContext("2d");var v=600,g=300,p=300;d.width=v;d.height=g;var w=188;m.fillStyle="rgb("+[w,w,w].join()+")";m.fillRect(0,0,v,g);var y=m.createLinearGradient(v-p,0,v,0);y.addColorStop(0,"rgb("+[w,w,w].join()+")");y.addColorStop(1,"rgb("+[255,w,0].join()+")");m.fillStyle=y;m.fillRect(v-p,0,p,g);f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.toDataURL());var b=function(){Math.animation(0,60,5e3,"Quad.easeInOut",function(e,t){u.setAttribute("scale",e);if(t==true){Math.animation(60,0,5e3,"Quad.easeInOut",function(e,t){u.setAttribute("scale",e);if(t==true){b()}})}})};b();var A=document.querySelectorAll('.buy-address[href^="javas"]');[].slice.call(A).forEach(function(e){e.addEventListener("click",function(){alert("即将上架")})})})();